<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tic Tac Toe - Neon Galaxy Edition</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --accent: #00ffff;
      --x-color: #ff3366;
      --o-color: #33aaff;
      --win-glow: 0 0 30px rgba(0, 255, 255, 0.7);
      --font: "Poppins", sans-serif;
    }

    * {
      box-sizing: border-box;
      user-select: none;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: var(--font);
      overflow: hidden;
      color: white;
    }

    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e, #1a1a40, #3f0071);
      background-size: 400% 400%;
      animation: gradientMove 10s ease infinite;
      z-index: -2;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    body::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.06) 0%, transparent 40%),
                  radial-gradient(circle at 80% 70%, rgba(255,255,255,0.05) 0%, transparent 40%);
      background-size: 400px 400px;
      animation: twinkle 5s infinite alternate;
      z-index: -1;
    }

    @keyframes twinkle {
      from { opacity: 0.6; }
      to { opacity: 0.3; }
    }

    .wrapper {
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 255, 255, 0.15);
      border-radius: 18px;
      backdrop-filter: blur(20px);
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.3);
      width: min(480px, 90vw);
      padding: 25px;
      text-align: center;
      animation: fadeIn 1s ease;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--accent);
      letter-spacing: 1px;
      text-shadow: 0 0 10px var(--accent);
    }

    #turnIndicator {
      color: var(--accent);
      font-weight: bold;
    }

    button {
      font-family: var(--font);
      cursor: pointer;
      transition: 0.25s;
      border-radius: 10px;
    }

    .primary {
      background: var(--accent);
      border: none;
      color: #031b1f;
      font-weight: 600;
      padding: 8px 14px;
      letter-spacing: 0.5px;
    }

    .primary:hover {
      box-shadow: 0 0 20px var(--accent);
      transform: scale(1.08);
    }

    .status {
      color: #e0e0e0;
      margin-bottom: 10px;
      font-size: 1rem;
      transition: color 0.3s;
    }

    .board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      justify-content: center;
      margin-top: 10px;
    }

    .cell {
      aspect-ratio: 1 / 1;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.8rem;
      font-weight: bold;
      transition: all 0.25s ease;
      color: #fff;
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    }

    .cell:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
    }

    .cell[data-value="X"] {
      color: var(--x-color);
      text-shadow: 0 0 18px rgba(255, 51, 102, 0.8);
    }

    .cell[data-value="O"] {
      color: var(--o-color);
      text-shadow: 0 0 18px rgba(51, 170, 255, 0.8);
    }

    .cell.win {
      animation: glowWin 1s ease-in-out infinite alternate;
    }

    @keyframes glowWin {
      from { box-shadow: 0 0 10px rgba(0,255,255,0.4); }
      to { box-shadow: 0 0 25px rgba(0,255,255,0.9); transform: scale(1.05); }
    }

    .footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 18px;
      font-size: 0.9rem;
      color: #cbd5e1;
    }

    .score {
      display: flex;
      gap: 10px;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    @media (max-width: 480px) {
      h1 { font-size: 1.2rem; }
      .cell { font-size: 2rem; }
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <header>
      <h1>üåå Tic Tac Toe</h1>
      <div>
        <span>Turn: <span id="turnIndicator">X</span></span>
        <button class="primary" id="resetBtn">Reset</button>
      </div>
    </header>

    <p id="status" class="status">Click a cell to start ‚Äî X goes first.</p>

    <div id="board" class="board"></div>

    <div class="footer">
      <div class="score">
        ‚úï Wins: <span id="xScore">0</span> |
        ‚óØ Wins: <span id="oScore">0</span> |
        Draws: <span id="drawScore">0</span>
      </div>
      <div>üíæ Auto-saved</div>
    </div>
  </div>

  <script>
    const boardEl = document.getElementById("board");
    const statusEl = document.getElementById("status");
    const turnIndicator = document.getElementById("turnIndicator");
    const resetBtn = document.getElementById("resetBtn");
    const xScoreEl = document.getElementById("xScore");
    const oScoreEl = document.getElementById("oScore");
    const drawScoreEl = document.getElementById("drawScore");

    const WIN_COMBINATIONS = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
      [0, 4, 8],
      [2, 4, 6],
    ];

    let board = Array(9).fill("");
    let currentPlayer = "X";
    let gameActive = true;
    let scores = { X: 0, O: 0, D: 0 };

    try {
      const s = localStorage.getItem("tictactoe_scores");
      if (s) scores = JSON.parse(s);
    } catch (e) {}

    xScoreEl.textContent = scores.X;
    oScoreEl.textContent = scores.O;
    drawScoreEl.textContent = scores.D;

    function initBoard() {
      boardEl.innerHTML = "";
      board = Array(9).fill("");
      gameActive = true;
      currentPlayer = "X";
      turnIndicator.textContent = currentPlayer;
      statusEl.textContent = "Click a cell to start ‚Äî X goes first.";

      for (let i = 0; i < 9; i++) {
        const cell = document.createElement("button");
        cell.className = "cell";
        cell.dataset.index = i;
        cell.addEventListener("click", onCellClick);
        boardEl.appendChild(cell);
      }
    }

    function onCellClick(e) {
      if (!gameActive) return;
      const idx = e.currentTarget.dataset.index;
      if (board[idx]) return;

      board[idx] = currentPlayer;
      e.currentTarget.dataset.value = currentPlayer;
      e.currentTarget.textContent = currentPlayer;

      const winner = checkWinner();
      if (winner) {
        endGame(winner);
        return;
      }

      currentPlayer = currentPlayer === "X" ? "O" : "X";
      turnIndicator.textContent = currentPlayer;
      statusEl.textContent = `Player ${currentPlayer}'s turn.`;
    }

    function checkWinner() {
      for (const combo of WIN_COMBINATIONS) {
        const [a, b, c] = combo;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
          highlightWinningCells(combo);
          return board[a];
        }
      }
      if (board.every((cell) => cell !== "")) return "D";
      return null;
    }

    function highlightWinningCells(combo) {
      combo.forEach((i) => {
        const cell = boardEl.querySelector(`[data-index="${i}"]`);
        if (cell) cell.classList.add("win");
      });
    }

    function endGame(result) {
      gameActive = false;
      if (result === "D") {
        statusEl.textContent = "It's a Draw! ü§ù";
        scores.D++;
        drawScoreEl.textContent = scores.D;
      } else {
        statusEl.textContent = `${result} Wins! üéâ`;
        scores[result]++;
        if (result === "X") xScoreEl.textContent = scores.X;
        else oScoreEl.textContent = scores.O;
      }
      localStorage.setItem("tictactoe_scores", JSON.stringify(scores));
    }

    resetBtn.addEventListener("click", initBoard);
    initBoard();
  </script>
</body>
</html>
